\hypertarget{math_Briefly}{}\doxysection{Briefly}\label{math_Briefly}
There are three fundamental ideas that make the code work\+:


\begin{DoxyItemize}
\item Homology of chain complexes of free $\mathbb Z$ modules can be algorithmically computed by turning the differentials into matrices and then diagonalizing them (Smith Normal Form).
\item Free \mbox{\hyperlink{namespaceMackey}{Mackey}} functors are determined by their bottom level groups. The higher levels are obtained by taking fixed points, and this can be done algorithmically on our matrices by writing them with respect to equivariant bases (an equivariant basis is an ordered basis in which elements in the same orbit are written consecutively).
\item Box products of \mbox{\hyperlink{namespaceMackey}{Mackey}} functors are tensor products on the bottom level. This is not true for the higher levels, however using the bulletpoint above, higher levels are obtained by transferring. This is how box products of chain complexes of free \mbox{\hyperlink{namespaceMackey}{Mackey}} functors are computed.
\end{DoxyItemize}

These three ideas dictate our approach\+: We work primarily on the bottom level, before transferring to get the higher ones. Homology is computed in each level separately and transfers/restrictions/\+Weyl group actions on the generators can be computed on the chains. But the chains are always free, so we can also algorithmically compute the effect of these operations.

By converting all our differentials to matrices, using equivariant bases throughout, we can reduce our computations to pure linear algebra (over the integers), avoiding any symbolic math.\hypertarget{math_imd}{}\doxysection{In more detail}\label{math_imd}
Here\textquotesingle{}s how the code works in more detail (for simplicity we specialize to the $G=C_4$ case, although everything works equally well with general prime powers)\+:\hypertarget{math_add}{}\doxysubsection{The additive structure}\label{math_add}

\begin{DoxyItemize}
\item The inputs are the bottom levels of the chains of the spheres $S^{n\sigma+m\lambda}$ for $n,m\ge 0$. We could do away with only $S^{\sigma},S^{\lambda}$, but this would result in taking arbitrarily many box products and devastate run-\/time performance. Instead, if we use the spheres $S^{n\sigma+m\lambda}$ for $n,m\ge 0$ we only have to take double box products at worst, and that\textquotesingle{}s only for part of the multiplicative structure.
\item The data of a chain complex are the ranks and differentials. The differentials are stored as matrices, but the ranks are stored as integer arrays and not integers. This is crucial as for example $\mathbb Z[C_4]$ transfers completely differently from $\mathbb Z[C_2]\oplus \mathbb Z[C_2]$ even though they both have rank $4=2+2$ over $\mathbb Z$. With our conventions, $\mathbb Z[C_2]\oplus \mathbb Z[C_2]$ has rank $[2,2]$ while $\mathbb Z[C_4]$ has rank $4$.
\item We transfer both ranks and differentials to higher levels. While transferring ranks is straightforward, transferring differentials is quite a bit more complicated and requires to have already transferred the ranks of the domain and range of the differentials.
\item Using the classical homology algorithm we compute the groups of the \mbox{\hyperlink{namespaceMackey}{Mackey}} functor at every level. We also compute their generators (as elements in the chain complex)
\item We transfer/restrict and compute the Weyl group action on the group generators. This concludes the \mbox{\hyperlink{namespaceMackey}{Mackey}} functor computation for the $S^{n\sigma+m\lambda}$, $n,m$ having the same sign (if $n,m<0$ we take the dual chain complex, which has the effect of switching all differentials to their transposes).
\item To obtain the chains of the rest of the spheres, we box the Chains we already have. Boxing is more complicated compared to just taking tensor products, as we have to use equivariant bases throughout to transfer properly. However the most convenient bases for tensoring are not equivariant, and in the end we have to change bases through permutation matrices.
\item We then perform the same procedure on these chains to get the entrire $RO(G)$ homology as a (graded) \mbox{\hyperlink{namespaceMackey}{Mackey}} functor.
\end{DoxyItemize}\hypertarget{math_mack}{}\doxysubsection{Recognizing Mackey Functors}\label{math_mack}
While a \mbox{\hyperlink{namespaceMackey}{Mackey}} functor is determined by the groups, transfers, restrictions and Weyl group actions, it is desirable to have a \char`\"{}universal notation\char`\"{} to concisely describe them. Here\textquotesingle{}s the notation we use\+:


\begin{DoxyItemize}
\item First assume all levels are cyclic groups, transfers are multiplication by 2 and corresponding restrictions are multiplication by 1 or vice-\/versa. Then the notation $a_1...a_n \sharp b_1...b_m$ means that the levels are $\mathbb Z/a_i$or $\mathbb Z$ if $a_i=1$ and the transfers at levels $b_i$ are multiplication by 1, and multiplication by 2 for the rest. The Weyl group action is then determined by the double coset formula.
\item For \mbox{\hyperlink{namespaceMackey}{Mackey}} functors that are sums of Mackeys of this form we use the plus operator to concatenate the notations.
\item For $C_4$ this notation suffices to describe every \mbox{\hyperlink{namespaceMackey}{Mackey}}, but for $C_8$ there are three exceptional \mbox{\hyperlink{namespaceMackey}{Mackey}} functors.
\end{DoxyItemize}

For the second item, summing \mbox{\hyperlink{namespaceMackey}{Mackey}} functors is straightforward (block diagonal matrices). The problem is showing that two \mbox{\hyperlink{namespaceMackey}{Mackey}} functors are isomorphic (as opposed to equal). To do that, we collect all automorphisms of the groups in each level and apply them as a natural transformation to our \mbox{\hyperlink{namespaceMackey}{Mackey}} functor and obtain its isomorphism class. So to check if two \mbox{\hyperlink{namespaceMackey}{Mackey}} functors are isomorphic, we check if one is equal to a \mbox{\hyperlink{namespaceMackey}{Mackey}} functor in the equivalence class of the other.


\begin{DoxyItemize}
\item For finitely generated (abelian) groups with only one $\mathbb Z$ factor, there are only finitely many automorphisms and we can easily classify them all.
\item If there is more than one $\mathbb Z$ factor, there are infinitely many automorphisms, so the user must provide those that the program should use for the identification.
\end{DoxyItemize}\hypertarget{math_mult}{}\doxysubsection{The multiplicative structure}\label{math_mult}
Once we have the additive structure (minus the recognition part), we can work on multiplying the additive generators.


\begin{DoxyItemize}
\item First we restrict the generators to the bottom level.
\item We then take the product of their restrictions as an element of the box product of chain complexes at bottom level.
\item The product of restrictions is a restriction and as we are working with free \mbox{\hyperlink{namespaceMackey}{Mackey}} functors, restriction is an injection. By inverting it we can get the product of generators at a higher level as an element of the box product.
\item We finally take homology of the resulting chains and write that product in terms of the generators of the homology.
\end{DoxyItemize}

Once we know how to multiply any two additive generators, we have in effect determined the multiplicative structure (see \mbox{\hyperlink{math_caveat}{A caveat}} for a catch).\hypertarget{math_factor}{}\doxysubsection{Factorization}\label{math_factor}
Even if we can multiply any two generators, that doesn\textquotesingle{}t mean we can automatically write any element as a product of our preferred generators. Verifying that for example the generator of $H_{-2}S^{-2\sigma}$ is $2/u_{2\sigma}$, is simple enough; coming up with the expression of the generator is a lot more complicated. This is done automatically by the factorization process\+:


\begin{DoxyItemize}
\item First we form a multiplication table, where all generators (in a range) are multiplied with the \char`\"{}basic irreducibles\char`\"{}. These basic irreducibles can be the Euler and orientation classes.
\item Once we have the table we can draw a directed colored graph by drawing the edges $a\to ab$ for $b$ a basic irreducible; we color these edges red. If multiplication by $b$ is an isomorphism i.\+e. $a=(ab)/b$ then we also connect $ab\to a$; we color such edges blue.
\item Since the product $ab$ may not be a generator, but rather a multiple of it, we need to allow nonzero multiples of generators as distinct nodes.
\item To obtain a factorization, we simply need to connect 1 with any node in the graph. For the most efficient factorizations, we want to minimize the number we alternate between blue and red edges in each path. This is done by a modified Dikjstra algorithm.
\item For the generators not connected to 1 (eg $s_3$) we need to perform the same process using different sources for our graph (eg using $s_3$ as the source for all paths).
\end{DoxyItemize}\hypertarget{math_Mass}{}\doxysubsection{Massey Products}\label{math_Mass}
The chains based approach we use means that Massey products can be computed from definition. The only extra thing we need is the following\+:


\begin{DoxyItemize}
\item Given an element $x$ that vanishes in homology we can find a $y$ that bounds it\+: $dy=x$. This is part of our homology algorithm.
\end{DoxyItemize}

So Massey products work like this\+:


\begin{DoxyItemize}
\item Suppose we have $ab=bc=0$ in homology. We lift $a,b,c$ to chains $C,D,E$ and explicitly compute $ab, bc$ in $C\otimes D$ and $D\otimes E$ respectively, as in \mbox{\hyperlink{math_mult}{The multiplicative structure}}.
\item After that we find $ds=ab, dt=bc$ and form $sc$ and $at$ in the box products $(C\otimes D) \otimes E$ and $C\otimes (D\otimes E)$ respectively.
\item These box products are isomorphic up to a permutation that we can explicitly compute. Thus we can write $sc$ and $at$ as elements of the same chain complex in the same basis.
\item Finally we form $sc+(-1)^{|a|+|b|+1}at$ and compute its image in homology.
\end{DoxyItemize}\hypertarget{math_caveat}{}\doxysection{A caveat}\label{math_caveat}
\hypertarget{math_cyclic}{}\doxysubsection{Cyclic Generators}\label{math_cyclic}

\begin{DoxyItemize}
\item The way we prove that say a transfer map is multiplication by $2$, is by computing the generators at the domain and target, computing the transfer of the domain generator and comparing with the target. Of course, there are usually multiple choices of generators, but up to isomorphism we get the same \mbox{\hyperlink{namespaceMackey}{Mackey}} functor.
\item There is a catch however that appears when computing the multiplicative structure\+: If we prove that $ab$ and $cd$ are both generators of the same cyclic group, then we can\textquotesingle{}t conclude that they are equal. Eg if the group is $\mathbb Z/4$ or $\mathbb Z$ then they differ by a sign. Still, since we are interested in generating the $RO(G)$ homology, as opposed to finding exact relations, we don\textquotesingle{}t have to distinguish between cyclic generators and we don\textquotesingle{}t need to worry about this detail.
\item If we are interested in exact relations, then are ways to resolve the ambiguity as we explain in the following subsection.
\end{DoxyItemize}\hypertarget{math_noncycl}{}\doxysubsection{Non cyclic generators}\label{math_noncycl}

\begin{DoxyItemize}
\item There is a situtation where the caveat above cannot be sidestepped and that\textquotesingle{}s when we have non cyclic groups. A typical example\+: If we have $\mathbb Z\oplus \mathbb Z/2$ with generators $x,y$ respectively then we can\textquotesingle{}t automatically distinguish $x$ from $x+y$ as there is an automorphism of $\mathbb Z\oplus \mathbb Z/2$ exchanging them. In that case the difference between $ab$ and $cd$ generating the same group can be much more severe than just an integer coprime to the group\textquotesingle{}s order (or a sign).
\item For another example, when computing the $RO(C_4)$ homology in $\mathbb F_2$ coefficients the group $\mathbb F_2\oplus \mathbb F_2$ tends to appear frequently; unfortunately the three generators cannot be distingusihed.
\item One way out of this is to break down our box products further until they can be directly compared. This is difficult to program generally and comes at a very high performance cost as we need more iterated box products.
\item Another way is to use the fact that these noncyclic homology groups result from extensions of \mbox{\hyperlink{namespaceMackey}{Mackey}} functors, not just group extensions. So for example in $\mathbb Z\oplus \mathbb Z/2$ we can distinguish $x$ from $x+y$ using that $x$ is a transfer. This doesn\textquotesingle{}t always work\+: We can have a $\mathbb F_2\oplus \mathbb F_2$ generated by $x,y$ with $x$ having restriction $0$ while $y$ having restriction $1$ and no generator being a transfer; in this case we cannot distinguish between $y$ and $x+y$.
\item There is one final trick we can use to resolve this ambiguity as it appears the Factorization algorithm\+: Assume we have $ab=x$ or $ab=x+y$ using the notation in the bullet above. For each element $z$ we can compute the products $xz$ and $(x+y)z$. If for some $z$ they are different and can be distingusihed, then we can form $abz$ internally (triple box product) and compare the answer to $xz$ and $(x+y)z$; we then divide by $z$ to find what $ab$.
\end{DoxyItemize}

In practice, for $\mathbb Z$ coefficients and $G=C_4$ we can choose to ignore the products we can\textquotesingle{}t identify and make no statement as to the equality of $ab$ and $cd$ if they live in non cyclic groups. This gives us less data to work with, but at least in that case this is enough to write the factorization of any element.

For $G=C_8$ ignoring them won\textquotesingle{}t work as we have many more instances of noncyclic groups. Instead we need to use all the bulletpoints above to identify our generators and factorize every element.

If we are only interested in the connectivity of the multiplication graph (everything being generated by Euler+orientation classes...) then we don\textquotesingle{}t need to make all identifications\+: If $ab$ is $x$ or $x+y$ and $x,y$ are connected to the source of the graph and multiplication by $b$ is an injection on $a$, then it doesn\textquotesingle{}t matter if the answer is $x$ or $x+y$\+: in both cases, $a$ is also connected to the source. 