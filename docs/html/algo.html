<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Mackey: Beneath the surface</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/SVG"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Mackey
   &#160;<span id="projectnumber">V3.1</span>
   </div>
   <div id="projectbrief">A C++ library for computing RO(G) graded homology</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('algo.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Beneath the surface </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#dvs">Dense vs sparse</a></li>
<li class="level1"><a href="#smith">Smith normal form</a></li>
<li class="level1"><a href="#amt">Algebraic Morse theory</a></li>
<li class="level1"><a href="#equiv">Equivariant chain complexes</a></li>
<li class="level1"><a href="#box">Box products</a></li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="dvs"></a>
Dense vs sparse</h1>
<p>The differential matrices can be stored in either dense or sparse formats.</p><ul>
<li>A dense matrix is an array representation of a matrix where all values are stored. For a matrix with \(n\) many rows and columns this means space complexity: <p class="formulaDsp">
\[O(n^2)\]
</p>
</li>
<li>A sparse matrix is an array representation of a matrix where only the nonzero values and their indices are stored. For a matrix with \(n\) many rows and columns and \(r\) many nonzero elements this means space complexity: <p class="formulaDsp">
\[O(n\cdot r)\]
</p>
</li>
</ul>
<p>For this library, it is necessary to use sparse matrices for groups beyond \(C_4\); the reason is that for \(C_8\) and above, matrices can have millions of rows and columns but are 99% zeros. Using the dense format can easily mean memory usage north of 60GB.</p>
<p>Using sparse matrices has an interesting side-effect that we explain in the next section.</p>
<h1><a class="anchor" id="smith"></a>
Smith normal form</h1>
<p>There are multiple ways to compute the Smith Normal Form of a matrix, but since we are mostly interested in the coefficient matrices, we employ the row/column elimination algorithm. To use the algorithm we need to be able to choose a pivot for our matrix each time we want to eliminate a row and column.</p>
<p>The pivoting choice is quite important for two reasons:</p>
<ul>
<li>Coefficient explosion (applies to infinite base rings): Even if the entries of the matrix are small ( \(\pm 1\)), the entries of the Smith Normal Form (and especially those of the coefficient matrices) can easily overflow if we make the wrong choice of pivot. You can read more about this problem in <a href="https://arxiv.org/abs/math/9406205">Recognizing badly presented Z modules</a>.</li>
<li>Fill-in (applies to all base rings): A wrong choice of pivot may result in creating nonzero entries, making our matrix less sparse.</li>
</ul>
<p>The strategy we employ is to pick the pivot so as to minimize two criteria:</p>
<ul>
<li>1: absolute value. This is only relevant over infinite base rings like \(\mathbf Z\)</li>
<li>2: the Markowitz metric <p class="formulaDsp">
\[N(i,j)=|\{a_{is}\neq 0: s\}| + |\{a_{sj}\neq 0:s\}|\]
</p>
 This is an upper bound to the amount of fill-in one can get by a single round of row/column elimination.</li>
</ul>
<p>There are many other possible choices as explained <a href="https://arxiv.org/abs/math/9406205">here</a>.</p>
<dl class="section note"><dt>Note</dt><dd>Over fields we use partial pivoting instead of full pivoting i.e. we perform only column eliminations and get a triangular matrix at the end.</dd></dl>
<h1><a class="anchor" id="amt"></a>
Algebraic Morse theory</h1>
<p>It is possible to reduce a chain complex to a homotopy equivalent chain complex that's smaller, using algebraic Morse theory (AMT). See this <a href="https://arxiv.org/pdf/1903.00783.pdf">paper</a> for more details and an implementation of the AMT algorithm.</p>
<p>An elaboration on the ideas of that paper allows us to perform the reduction while preserving equivariance. This effectively means that whenever we have a box product \(C_*\otimes D_*\) we can replace it by an equivalent equivariant chain complex \(T_*\) that is significantly smaller. There are two upsides:</p>
<ul>
<li>Overall lower memory usage and better performance, especially in the Smith Normal Form algorithm</li>
<li><p class="startli">We can reduce triple box products to double box products: </p><p class="formulaDsp">
\[C_*\otimes D_*\otimes E_*=T_*\otimes E_*\]
</p>
<p> The RHS is significantly smaller than the LHS and can be further compressed by using the equivariant AMT algorithm on it.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000007">Todo:</a></b></dt><dd>Further explore/improve the equivariant AMT algorithm.</dd></dl>
</li>
</ul>
<h1><a class="anchor" id="equiv"></a>
Equivariant chain complexes</h1>
<p>Our chain complexes don't consist of \(R\)-modules but rather \(R[G]\) modules of the form </p><p class="formulaDsp">
\[\oplus_H R[G/H]\]
</p>
<p>To record the equivariant information we use rank arrays: for example consider </p><p class="formulaDsp">
\[\mathbf Z[C_4]\text{ vs } \mathbf Z[C_2]\oplus \mathbf Z[C_2]\]
</p>
<p> We say that the former has rank \([4]\) while the latter has rank \([2,2]\),</p>
<p>Moreover, a basis over \(R[G]\) expands to an \(R\) basis that we call equivariant; that's a basis where each generator is followed by its orbit:</p>
<p class="formulaDsp">
\[x_1,gx_1,...,g^{s_1}x_1,x_2,gx_2,....,g^{s_n}x_n\]
</p>
<p>with \(g^{s_i+1}x_i=1\).</p>
<p>We need to use equivariant bases to transfer our differentials from the bottom level to higher levels.</p>
<h1><a class="anchor" id="box"></a>
Box products</h1>
<p>The differential of the tensor product of chain complexes can be pictured as:</p>
<p><br  />
 </p><div class="image">
<object type="image/svg+xml" data="diagram4.svg" style="pointer-events: none;"></object>
</div>
<p><br  />
 where</p>
<p class="formulaDsp">
\[L_i(x\otimes y)=d_ix\otimes y\text{ , }R_i(x\otimes y)=(-1)^{|x|}x\otimes d_i&#39;y\]
</p>
<p>The matrix for the differential is:</p>
<p class="formulaDsp">
\[d^{\otimes}=\begin{pmatrix}R_0&amp;L_1\\&amp;R_1&amp;L_2&amp;\\ &amp;&amp;\ddots&amp;\ddots\\&amp;&amp;&amp;R_{k-1}&amp;L_{k-1}\end{pmatrix}\]
</p>
<p>and it remains to compute the matrix expressions of every \(L,R\).<br  />
Given bases for \(C_j, D_k\) we can form two lexicographical bases for \(C_j\otimes D_k\); one of them we call left convenient because \(L\) is block diagonal w.r.t. it (each block being \(d\)); the other we call right convenient because \(R\) is block diagonal w.r.t. it (each block being \(d&#39;\)).</p>
<p>However, we aren't allowed to use these bases in \(d^{\otimes}\): we have <em>equivariant</em> chain complexes and we need <em>equivariant</em> bases for them. We refer to the equivariant basis for the tensor product as the canonical basis.<br  />
 For example if \(A,B\) have equivariant bases \(a,ga,g^2a,g^3a\) and \(b,gb\) respectively then the left convenient, right convenient and canonical bases are respectively: </p><p class="formulaDsp">
\[ a\otimes b\text{ , }ga\otimes b\text{ , }g^2a\otimes b\text{ , } g^3\otimes b\text{ , } a\otimes gb\text{ , } ga\otimes gb \text{ , } g^2a\otimes gb \text{ , }g^3a \otimes gb\\ a\otimes b\text{ , }a\otimes gb\text{ , }ga\otimes b \text{ , } ga\otimes gb\text{ , } g^2a\otimes b\text{ , } g^2a\otimes gb \text{ , } g^3a\otimes b \text{ , } g^3a\otimes gb\\ a\otimes b\text{ , }g(a\otimes b)\text{ , }g^2(a\otimes b)\text{ , }g^3(a\otimes b)\text{ , } a\otimes gb\text{ , } g(a\otimes gb)\text{ , }g^2(a\otimes gb)\text{ , } g^3(a\otimes gb)\]
</p>
<p>We can compute the change of basis matrices between these three bases, and using them allows us to write \(L,R\) w.r.t. the canonical basis. This is how \(d^{\otimes}\) is obtained. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.18-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
</div>
</body>
</html>
